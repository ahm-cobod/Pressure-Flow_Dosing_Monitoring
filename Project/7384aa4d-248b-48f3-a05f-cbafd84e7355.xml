{"CLs":[{"__type":"LD","Var":"out_PumpRelay"},{"__type":"LD","Ix":1,"Var":"AdditiveSystemEnabled","X":1},{"__type":"LD","Ix":2,"Var":"HMI_in_AdditiveControl[0].AdditivePumpStart","X":1,"Y":1},{"__type":"LD","Ix":3,"Var":"HMI_in_AdditiveControl[1].AdditivePumpStart","X":1,"Y":2},{"__type":"LD","Ix":4,"Var":"HMI_in_AdditiveControl[2].AdditivePumpStart","X":1,"Y":3},{"__type":"LD","Ix":5,"Var":"HMI_in_AdditiveControl[3].AdditivePumpStart","X":1,"Y":4},{"__type":"ST","Ix":6,"Var":"out_AdditivePump","X":2}],"LRI":7,"RRI":8,"VLs":[{"Ix":9,"X":1},{"Ix":9,"X":1,"Y":1},{"Ix":9,"X":1,"Y":2},{"Ix":9,"X":1,"Y":3},{"Ix":10,"X":2},{"Ix":10,"X":2,"Y":1},{"Ix":10,"X":2,"Y":2},{"Ix":10,"X":2,"Y":3}]}
{"CLs":[{"__type":"IST","EID":"69423a1d-94a1-4508-8aca-3f909b8bc968","H":400,"TXT":"\/\/ Pump 1\u000d\u000apump1(\u000d\u000a    Enable := out_AdditivePump,\u000d\u000a    sAdditiveControl_Input := HMI_in_AdditiveControl[0],  \/\/ IN_OUT\u000d\u000a    levelWarning := G_Din_Pump1WarningLow,                \/\/ IN_OUT\u000d\u000a    LevelEmpty   := G_Din_Pump1WarningEmpty               \/\/ IN_OUT\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 2\u000d\u000apump2(\u000d\u000a    Enable := out_AdditivePump,\u000d\u000a    sAdditiveControl_Input := HMI_in_AdditiveControl[1],\u000d\u000a    levelWarning := G_Din_Pump2WarningLow,\u000d\u000a    LevelEmpty   := G_Din_Pump2WarningEmpty\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 3\u000d\u000apump3(\u000d\u000a    Enable := out_AdditivePump,\u000d\u000a    sAdditiveControl_Input := HMI_in_AdditiveControl[2],\u000d\u000a    levelWarning := G_Din_Pump3WarningLow,\u000d\u000a    LevelEmpty   := G_Din_Pump3WarningEmpty\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 4\u000d\u000apump4(\u000d\u000a    Enable := out_AdditivePump,\u000d\u000a    sAdditiveControl_Input := HMI_in_AdditiveControl[3],\u000d\u000a    levelWarning := G_Din_Pump4WarningLow,\u000d\u000a    LevelEmpty   := G_Din_Pump4WarningEmpty\u000d\u000a);\u000d\u000a","W":400}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"7e09f5e2-ad37-4bdb-b2df-f67acfeee0cb","H":400,"TXT":"\/\/ ========================================\u000d\u000a\/\/ SENSOR MONITORING FOR ALL 4 PUMPS\u000d\u000a\/\/ ========================================\u000d\u000a\u000d\u000a\/\/ Pump 1 Sensor Monitor\u000d\u000afbSensorMonitor1(\u000d\u000a    Execute := TRUE,\u000d\u000a    ai_Flow_4to20mA_External := G_Ain_Flow1,\u000d\u000a    awPressure_Data_External := G_Pressure_Data1,\u000d\u000a    bPressure_StatusByte_External := G_Pressure_Status1,\u000d\u000a    bSimulationMode := AdditiveSystemEnabled  \/\/ or create dedicated G_SimulationMode flag\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 2 Sensor Monitor\u000d\u000afbSensorMonitor2(\u000d\u000a    Execute := TRUE,\u000d\u000a    ai_Flow_4to20mA_External := G_Ain_Flow2,\u000d\u000a    awPressure_Data_External := G_Pressure_Data2,\u000d\u000a    bPressure_StatusByte_External := G_Pressure_Status2,\u000d\u000a    bSimulationMode := AdditiveSystemEnabled\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 3 Sensor Monitor\u000d\u000afbSensorMonitor3(\u000d\u000a    Execute := TRUE,\u000d\u000a    ai_Flow_4to20mA_External := G_Ain_Flow3,\u000d\u000a    awPressure_Data_External := G_Pressure_Data3,\u000d\u000a    bPressure_StatusByte_External := G_Pressure_Status3,\u000d\u000a    bSimulationMode := AdditiveSystemEnabled\u000d\u000a);\u000d\u000a\u000d\u000a\/\/ Pump 4 Sensor Monitor\u000d\u000afbSensorMonitor4(\u000d\u000a    Execute := TRUE,\u000d\u000a    ai_Flow_4to20mA_External := G_Ain_Flow4,\u000d\u000a    awPressure_Data_External := G_Pressure_Data4,\u000d\u000a    bPressure_StatusByte_External := G_Pressure_Status4,\u000d\u000a    bSimulationMode := AdditiveSystemEnabled\u000d\u000a);","W":400}],"LRI":1,"RRI":2,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"In_AdditivePump","Type":"BOOL","Var":"out_AdditivePump"},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":1,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[0]"},{"__type":"PRM","Arg":"levelWarning","Ix":2,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"LevelEmpty","Ix":3,"Type":"BOOL","Var":""}],"Ix":12,"Name":"\\\\Cobod\\fb_AdditivePumpControl","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":5,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[0]"},{"__type":"PRM","Arg":"Error","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":7,"Type":"INT","Var":""},{"__type":"PRM","Arg":"PrintheadValve","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"out_AdditiveSpeed","Ix":9,"Type":"INT","Var":""},{"__type":"PRM","Arg":"ForwardSignal","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ReverseSignal","Ix":11,"Type":"BOOL","Var":""}],"UD":true,"Var":"pump1"}],"LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"In_AdditivePump","Type":"BOOL","Var":"out_AdditivePump"},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":1,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[1]"},{"__type":"PRM","Arg":"levelWarning","Ix":2,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"LevelEmpty","Ix":3,"Type":"BOOL","Var":""}],"Ix":12,"Name":"\\\\Cobod\\fb_AdditivePumpControl","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":5,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[1]"},{"__type":"PRM","Arg":"Error","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":7,"Type":"INT","Var":""},{"__type":"PRM","Arg":"PrintheadValve","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"out_AdditiveSpeed","Ix":9,"Type":"INT","Var":""},{"__type":"PRM","Arg":"ForwardSignal","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ReverseSignal","Ix":11,"Type":"BOOL","Var":""}],"UD":true,"Var":"pump2"}],"LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"In_AdditivePump","Type":"BOOL","Var":"out_AdditivePump"},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":1,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[2]"},{"__type":"PRM","Arg":"levelWarning","Ix":2,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"LevelEmpty","Ix":3,"Type":"BOOL","Var":""}],"Ix":12,"Name":"\\\\Cobod\\fb_AdditivePumpControl","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":5,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[2]"},{"__type":"PRM","Arg":"Error","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":7,"Type":"INT","Var":""},{"__type":"PRM","Arg":"PrintheadValve","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"out_AdditiveSpeed","Ix":9,"Type":"INT","Var":""},{"__type":"PRM","Arg":"ForwardSignal","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ReverseSignal","Ix":11,"Type":"BOOL","Var":""}],"UD":true,"Var":"pump3"}],"LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"FB","In":[{"__type":"PF","Arg":"Enable"},{"__type":"PRM","Arg":"In_AdditivePump","Type":"BOOL","Var":"out_AdditivePump"},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":1,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[3]"},{"__type":"PRM","Arg":"levelWarning","Ix":2,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"LevelEmpty","Ix":3,"Type":"BOOL","Var":""}],"Ix":12,"Name":"\\\\Cobod\\fb_AdditivePumpControl","Out":[{"__type":"PF","Arg":"Done"},{"__type":"PRM","Arg":"Busy","Ix":4,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"sAdditiveControl_Input","IO":true,"Ix":5,"Type":"Cobod\\Dosing\\sAdditiveControl","Var":"HMI_in_AdditiveControl[3]"},{"__type":"PRM","Arg":"Error","Ix":6,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ErrorID","Ix":7,"Type":"INT","Var":""},{"__type":"PRM","Arg":"PrintheadValve","Ix":8,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"out_AdditiveSpeed","Ix":9,"Type":"INT","Var":""},{"__type":"PRM","Arg":"ForwardSignal","Ix":10,"Type":"BOOL","Var":""},{"__type":"PRM","Arg":"ReverseSignal","Ix":11,"Type":"BOOL","Var":""}],"UD":true,"Var":"pump4"}],"LRI":13,"RRI":14,"VLs":[]}
{"CLs":[{"__type":"IST","EID":"fc19761e-5502-48c5-9977-a67346283c93","H":400,"TXT":"\/\/ Map pump1, pump2, pump3 and pump4 variables\u000d\u000aIF  inHMI_EIPDosing THEN\u000d\u000a\u0009\/\/ non-Ethernet IP dosing\u000d\u000a\u0009G_Aout_AdditiveSpeed1:=pump1.out_AdditiveSpeed;\u000d\u000a\u0009G_out_Pump1Forward:=pump1.ForwardSignal;\u000d\u000a\u0009G_out_Pump1Reverse:=pump1.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009G_Aout_AdditiveSpeed2:=pump2.out_AdditiveSpeed;\u000d\u000a\u0009G_out_Pump2Forward:=pump2.ForwardSignal;\u000d\u000a\u0009G_out_Pump2Reverse:=pump2.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009G_Aout_AdditiveSpeed3:=pump3.out_AdditiveSpeed;\u000d\u000a\u0009G_out_Pump3Forward:=pump3.ForwardSignal;\u000d\u000a\u0009G_out_Pump3Reverse:=pump3.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009G_Aout_AdditiveSpeed4:=pump4.out_AdditiveSpeed;\u000d\u000a\u0009G_out_Pump4Forward:=pump4.ForwardSignal;\u000d\u000a\u0009G_out_Pump4Reverse:=pump4.ReverseSignal;\u000d\u000a\u000d\u000aELSE\u000d\u000a\u0009\/\/Ethernet IP dosing\u000d\u000a\u0009EIP_DosingSystemOUT.NX_DA3203.AnalogOut[0]:=pump1.out_AdditiveSpeed;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[0]:=pump1.ForwardSignal;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[1]:=pump1.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009EIP_DosingSystemOUT.NX_DA3203.AnalogOut[1]:=pump2.out_AdditiveSpeed;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[2]:=pump2.ForwardSignal;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[3]:=pump2.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009EIP_DosingSystemOUT.NX_DA3203.AnalogOut[2]:=pump3.out_AdditiveSpeed;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[4]:=pump3.ForwardSignal;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[5]:=pump3.ReverseSignal;\u000d\u000a\u0009\u000d\u000a\u0009EIP_DosingSystemOUT.NX_DA3203.AnalogOut[3]:=pump4.out_AdditiveSpeed;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[6]:=pump4.ForwardSignal;\u000d\u000a\u0009EIP_DosingSystemOUT.NX_OC4633.OutputBit[7]:=pump4.ReverseSignal;\u000d\u000a\u0009\u000d\u000aEND_IF;\u000d\u000a\u000d\u000a\/\/ Map valves depending on PH configuration\u000d\u000aIF NOT MachineConfiguration.PH.UC THEN\u000d\u000a\u0009G_outPrintheadValve_Pump1:=pump1.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump2:=pump2.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump3:=pump3.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump4:=pump4.PrintheadValve;\u000d\u000aELSE\u000d\u000a\u0009G_outPrintheadValve_Pump1_UC:=pump1.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump2_UC:=pump2.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump3_UC:=pump3.PrintheadValve;\u000d\u000a\u0009G_outPrintheadValve_Pump4_UC:=pump4.PrintheadValve;\u000d\u000aEND_IF;","W":400}],"LRI":1,"RRI":2,"VLs":[]}
