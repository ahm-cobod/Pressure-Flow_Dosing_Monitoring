<StructuredTextModel xmlns="http://schemas.datacontract.org/2004/07/Omron.Cxap.Modules.StructuredText.Core" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><Text>(*&#xD;
	SIMULATION MODE - CORRECTED&#xD;
	COBOD INTERNATIONAL 2025&#xD;
*)&#xD;
&#xD;
IF NOT ISEL_R THEN&#xD;
	&#xD;
	bSimulationMode := TRUE;&#xD;
	&#xD;
	// Flow sensor simulation (4-20mA)&#xD;
	iSimAnalog := REAL_TO_INT(((rSimFlow - 0.05) / 1.45) * 26214.0 + 6553.0);&#xD;
	&#xD;
	IF iSimAnalog &lt; 6553 THEN&#xD;
		iSimAnalog := 6553;&#xD;
	END_IF;&#xD;
	&#xD;
	IF iSimAnalog &gt; 32767 THEN&#xD;
		iSimAnalog := 32767;&#xD;
	END_IF;&#xD;
	&#xD;
	ai_Flow_4to20mA := iSimAnalog;&#xD;
	&#xD;
// Pressure sensor simulation (IO-Link)&#xD;
wSimPressureRaw := REAL_TO_WORD((rSimPressure + 1.0) / 11.0 * 65535.0);&#xD;
awPressure_Data[0] := WORD_TO_BYTE(SHR(wSimPressureRaw, 8));&#xD;
awPressure_Data[1] := WORD_TO_BYTE(wSimPressureRaw);&#xD;
bPressure_StatusByte := 16#01;&#xD;
	&#xD;
	// Increment values&#xD;
	rSimFlow := rSimFlow + 0.02;&#xD;
	IF rSimFlow &gt; 1.5 THEN&#xD;
		rSimFlow := 0.05;&#xD;
	END_IF;&#xD;
	&#xD;
	rSimPressure := rSimPressure + 0.15;&#xD;
	IF rSimPressure &gt; 10.0 THEN&#xD;
		rSimPressure := -1.0;&#xD;
	END_IF;&#xD;
	&#xD;
ELSE&#xD;
	bSimulationMode := FALSE;&#xD;
	&#xD;
END_IF;</Text></StructuredTextModel>